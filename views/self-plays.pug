doctype html
html(lang="en")
    head
        script(src="/static/tablesort/tablesort.js")
        script(src="/static/tablesort/tablesort.number.js")
        link(href="/static/tablesort/tablesort.css" rel="stylesheet")
    body
        table(id="sort" border="1")
            thead
                tr
                    th Client
                    th Version
                    th Self-Play Hash
                    th Network
                    th Move Count
                    th Winner
                    th Started
                    th Duration
                    th Download
            tbody
                each item in data
                    tr
                        td #{item.ip}
                        td #{item.clientversion}
                        td
                            a(href="/view/" + item.sgfhash + "?viewer=wgo")  #{item.sgfhash}
                        td #{item.networkhash.slice(0, 8)}
                        td #{item.movescount}
                        td #{item.winnercolor}
                        td #{item.started}
                        td #{item.duration}
                        td
                            a(href="/view/" + item.sgfhash + ".sgf")  sgf
        script.
            Tablesort.extend('minutes', item => /(^\?\?\?$|minutes)/.test(item), (a, b) => {
                a = (a.match(/([.\d]+) minutes/) || [])[1] || 0;
                b = (b.match(/([.\d]+) minutes/) || [])[1] || 0;
                return b - a;
            });
            new Tablesort(document.getElementById('sort'));

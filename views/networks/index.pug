extends ../layout.pug

block meta
    meta(property="og:title" content=`Leela Zero Best Networks`)
    meta(property="og:type" content="website")
    meta(property="og:url" content=`${http_host}/network-profiles`)

block script
    script(src="/static/timeago.js")
    script.
        Vue.filter('timeAgo', function(value) {
            var epoch = +value, delta = Date.now() - epoch;

            if(delta > 60 * 60 * 24 * 1000) {
                let date = new Date(epoch);
                return date.toLocaleDateString() + " " + date.toLocaleTimeString();
            } else {
                return deltaToAgo(delta);
            }
        })
        var app = new Vue({
            el: 'main',
        })

block content
    v-container(grid-list-md text-xs-center)
        v-card
            h1 Best Networks
            
            v-card-text
                table.table.table-bordered.table-hover
                    thead 
                        tr
                            th #
                            th Upload Date
                            th Hash
                            th Architecture
                            th Self Play Games
                            th Training
                            th Links
                    tbody
                    - for(var n in networks) 
                        - var network = networks[n]
                        tr
                            td #{networks.length - n - 1}
                            td 
                                span.time-ago {{ '#{network._id.getTimestamp().getTime()}' | timeAgo }}
                            td #{network.hash.slice(0, 6)}
                            td #{network.filters}x#{network.blocks}
                            td #{network.game_count}
                            td #{network.training_count.abbr(4)} #{network.training_steps ? "+" + network.training_steps.abbr(3) : ""}
                            td
                                a(href=`/network-profiles/${network.hash}`) Profile 
                                |
                                .
                                     | 
                                |
                                a(href=`/networks/${network.hash}.gz`) Download
